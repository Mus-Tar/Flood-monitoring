# 洪水预测功能前端演示方案

## 项目背景
基于现有洪水监测系统，新增一个前端预测功能页面，用于演示展示洪水预测能力。该功能为纯前端模拟实现，不涉及真实的AI算法或后端推理服务。

## 预期效果

### 1. 页面布局
- **顶部控制面板**：选择监测点、设置预测时间范围、启动预测按钮
- **中部图表区域**：显示历史数据曲线 + 预测数据曲线
- **底部信息面板**：显示预测结果摘要、风险等级、建议措施

### 2. 交互流程
1. 用户选择要预测的监测点（下拉选择框）
2. 设置预测时间范围（6小时、12小时、24小时、48小时）
3. 点击"开始预测"按钮
4. 显示加载动画（模拟AI计算过程，3-5秒）
5. 展示预测结果：
   - 时间序列图表（历史数据 + 预测数据）
   - 风险等级评估（安全/注意/警告/危险）
   - 预测准确度（模拟显示95%等）
   - 建议措施文本

### 3. 视觉效果
- **历史数据曲线**：蓝色实线
- **预测数据曲线**：橙色虚线，带置信区间阴影
- **阈值线**：红色水平线标识警戒水位
- **风险等级**：不同颜色的状态卡片（绿/黄/橙/红）
- **动画效果**：图表数据逐点绘制动画

## 技术方案

### 1. 技术栈
- **框架**：Vue 3 + Vue Router（现有）
- **图表库**：ECharts 5.x（已安装）
- **UI样式**：TailwindCSS（已配置）
- **HTTP请求**：Axios（用于获取历史数据）

### 2. 文件结构
```
frontend/src/
├── views/
│   └── FloodPrediction.vue        # 新增预测页面
├── components/
│   ├── PredictionChart.vue        # 预测图表组件
│   ├── RiskAssessment.vue         # 风险评估组件
│   └── PredictionControl.vue      # 控制面板组件
└── utils/
    └── mockPredictor.js           # 模拟预测算法
```

### 3. 模拟算法逻辑
```javascript
// 简化的预测逻辑
function generatePrediction(historicalData, hours) {
  // 基于历史数据的最后几个点
  // 添加随机波动 + 趋势延续
  // 生成看起来合理的预测曲线
  // 返回: { timestamps, values, confidence, riskLevel }
}
```

### 4. 数据模拟策略
- **历史数据**：调用现有API获取真实监测数据
- **预测数据**：基于历史数据最后几个点，用数学函数生成趋势
- **置信度**：随时间递减（近期95%，远期70%）
- **风险评估**：根据预测峰值与阈值比较

## 页面功能详细设计

### 控制面板功能
- [x] 监测点选择下拉框
- [x] 预测时长选择（6h/12h/24h/48h）
- [x] 天气条件模拟选择（晴天/小雨/大雨/暴雨）
- [x] 开始预测按钮 + 加载状态

### 图表展示功能
- [x] 双Y轴图表（水位 + 降雨量）
- [x] 历史数据曲线（过去24小时）
- [x] 预测数据曲线（未来N小时）
- [x] 置信区间阴影
- [x] 关键阈值线标注
- [x] 时间轴缩放和拖拽

### 结果分析功能
- [x] 风险等级卡片显示
- [x] 预测准确度显示
- [x] 关键时间点提醒
- [x] 防汛建议文本
- [x] 一键导出报告（PDF/Excel）

## 演示脚本建议

### 演示场景1：正常情况
1. 选择某个监测点，选择12小时预测
2. 显示预测结果：水位平稳，风险等级"安全"
3. 展示预测准确度95%，建议"继续正常监测"

### 演示场景2：风险预警
1. 选择容易出现险情的监测点，选择24小时预测
2. 设置天气条件为"暴雨"
3. 显示预测结果：水位上升趋势，风险等级"警告"
4. 展示具体的峰值时间和建议措施

### 演示场景3：对比分析
1. 同时展示多个监测点的预测结果
2. 突出不同地区的风险差异
3. 展示系统的综合分析能力

## 开发计划

### 阶段1：基础页面搭建（1天）
- 创建预测页面和基础组件
- 实现页面布局和基础交互
- 集成到路由系统

### 阶段2：图表和动画（1天）
- 实现ECharts预测图表
- 添加数据动画效果
- 完善视觉样式

### 阶段3：模拟算法和完善（1天）
- 实现预测数据生成逻辑
- 完善风险评估功能
- 测试和调优演示效果

## 注意事项
1. **免责声明**：在页面明显位置添加"演示版本，仅供展示"字样
2. **数据真实性**：历史数据使用真实监测数据，预测数据为模拟生成
3. **性能优化**：图表数据点数量控制，避免浏览器卡顿
4. **响应式设计**：确保在不同屏幕尺寸下正常显示

---

**确认后即可开始实施该方案，预计3个工作日完成全部功能。**